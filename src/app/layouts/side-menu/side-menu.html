<nav class="sidebar" [class.open]="visible">
    <div class="sidebar-inner flex flex-col h-full justify-between">

        <div class="flex flex-col h-full">
            <div class="overflow-y-auto flex-1">

                <!-- WORKFLOW -->
                <ul class="list-none p-4 m-0">
                    <li>
                        <div pRipple pStyleClass="@next" enterFromClass="hidden" enterActiveClass="animate-slidedown"
                            leaveToClass="hidden" leaveActiveClass="animate-slideup" class="flex items-center justify-between cursor-pointer p-4 
                                   text-surface-600 dark:text-surface-200 hover:bg-surface-100 
                                   dark:hover:bg-surface-700 transition-all rounded-lg">
                            <span class="font-semibold tracking-wide">GENERATE WORKFLOW</span>
                            <i class="pi pi-chevron-down text-sm"></i>
                        </div>

                        <ul class="list-none p-0 m-0 overflow-hidden transition-all duration-300">

                            <ng-container *ngFor="let item of Workflow">
                                <ng-container *ngTemplateOutlet="menuItem; 
                                        context:{ $implicit: item }"></ng-container>
                            </ng-container>

                        </ul>
                    </li>
                </ul>

                <!-- TRAINING -->
                <ul class="list-none p-4 m-0">
                    <li>
                        <div pRipple pStyleClass="@next" enterFromClass="hidden" enterActiveClass="animate-slidedown"
                            leaveToClass="hidden" leaveActiveClass="animate-slideup" class="flex items-center justify-between cursor-pointer p-4 
                                   text-surface-600 dark:text-surface-200 hover:bg-surface-100 
                                   dark:hover:bg-surface-700 transition-all rounded-lg">
                            <span class="font-semibold tracking-wide">TRAINING GUIDANCE</span>
                            <i class="pi pi-chevron-down text-sm"></i>
                        </div>

                        <ul class="list-none p-0 m-0 overflow-hidden transition-all duration-300">

                            <ng-container *ngFor="let item of Training">
                                <ng-container *ngTemplateOutlet="menuItem; 
                                        context:{ $implicit: item }"></ng-container>
                            </ng-container>

                        </ul>
                    </li>
                </ul>

            </div>
        </div>
        <!-- FOOTER -->
        <div class="mt-auto border-t border-surface px-4 py-3">
            <a pRipple class="flex items-center gap-2 cursor-pointer rounded-lg 
                           text-surface-700 dark:text-surface-100 hover:bg-surface-100 
                           dark:hover:bg-surface-700 p-4 transition-all">
                <p-avatar [image]="footer.avatar" shape="circle"></p-avatar>
                <span class="font-bold">{{ footer.name }}</span>
            </a>
        </div>
    </div>
</nav>

<!-- ðŸ” Recursive menu item template -->
<ng-template #menuItem let-item>
    <li>
        <a pRipple [routerLink]="item.url" [pStyleClass]="item.children ? '@next' : undefined" enterFromClass="hidden"
            enterActiveClass="animate-slidedown" leaveToClass="hidden" leaveActiveClass="animate-slideup" class="flex items-center gap-2 cursor-pointer p-4 rounded-lg 
                   text-surface-700 dark:text-surface-100 hover:bg-surface-100 
                   dark:hover:bg-surface-700 transition-all">
            <i [class]="item.icon + ' text-base leading-none'"></i>
            <span class="font-medium">{{ item.label }}</span>

            <i *ngIf="item.children" class="pi pi-chevron-down ml-auto text-sm"></i>
        </a>

        <ul *ngIf="item.children"
            class="list-none m-0 p-0 pl-4 overflow-hidden transition-all duration-300 ease-in-out">
            <ng-container *ngFor="let child of item.children">
                <ng-container *ngTemplateOutlet="menuItem; context:{ $implicit: child }"></ng-container>
            </ng-container>
        </ul>
    </li>
</ng-template>